clear all; clc
tic;                              % Start stopwatch timer

% 生成实例
[T,Jm,M] = GenInstance(50,100,1);   

% 样本实例1 10*10
% T=[29 78  9 36 49 11 62 56 44 21;
%    43 90 75 11 69 28 46 46 72 30;
%    91 85 39 74 90 10 12 89 45 33;
%    81 95 71 99  9 52 85 98 22 43;
%    14  6 22 61 26 69 21 49 72 53;
%    84  2 52 95 48 72 47 65  6 25;
%    46 37 61 13 32 21 32 89 30 55;
%    31 86 46 74 32 88 19 48 36 79;
%    76 69 76 51 85 11 40 89 26 74;
%    85 13 61  7 64 76 47 52 90 45];
% 
% Jm=[0 1 2 3 4 5 6 7 8 9;
%     0 2 4 9 3 1 6 5 7 8;
%     1 0 3 2 8 5 7 6 9 4;
%     1 2 0 4 6 8 7 3 9 5;
%     2 0 1 5 3 4 8 7 9 6;
%     2 1 5 3 8 9 0 6 4 7;
%     1 0 3 2 6 5 9 8 7 4;
%     2 0 1 5 4 6 8 9 7 3;
%     0 1 3 5 2 9 6 7 4 8;
%     1 0 2 6 8 9 5 3 4 7];
% 
% Jm=Jm+1;

% % 样本实例2 10*30
% T=[86    49    68    13    40     5    55    65    56    55    85    67    46    21    72    33    82    66    31    56    40    62    35    46    39    51    44    56    59    66;
%    29    88    37    27     5    20    99    31    31    73    38    94    25    90    29    46    33    96     2    52    62    82    52    39    60    22    84     1    77    46;
%    74    36    63    26    35    73    72    14    94    58    60    82    79    77    90    72    25    73    54    34    82    54    56    78    46    58    62    77     9    84;
%    14    45    82    34    74    73    84    48    99     3    88    49    89    89    83    89    35    41    10    44    89    21    16    74     6    13    53    85    67    54;
%    84    97     2    16    80    88    44    37    29    45    94    76    92    29    40    73    38    84    15    50    94    46    57    44    23    68    87    92    52    56;
%    14     5     9    35    55    59    48    79    81    65    67    42    56    68    50     2    55    14    64     8    20    43    70    70    84    60    10    99    18    69;
%    59    98    98    13    69     8    57    79    90    53    21    98    60    67    70    68    57     7    86    89    26    97    43    95     2     6    91    51    94    37;
%    37    19    66    89    90    93    27    67    60    38    66    99    15    13    84    44    40     9    98     7    90    63    84    79    87     6    11    28    60    24;
%    81    67    24    10     6    81    75    14    89    94     8    87    90    41    61    44    40    17    58    44    60    70    74    71     8    16    52    11    45    58;
%    51    59    41    94    31    29    51     3    95    83    41    39    46    28    58    12    52    33   100    83    51    73    37    11    67     2    15    51    95    87];
% 
% Jm=[13     4    14    10    26    12    11     5     8     3     9    15    22    24     1     7     6    18    28    29    16    23    21    20    17    27    19     2    25    30;
%      2    14    18    21    22    20    12     4    30     9    29     6    11    28     5     3    19     1    24     8    15     7    26    16    23    25    13    10    17    27;
%     10    20    30     3    18    13     8    23     6    24    25    22    15    11    28     2    29    17    16    26    21     7    12     4     1     5     9    27    19    14;
%     25    27    13    11    18    28    22    12    23    29    17    10     3     6    14     1    20     7     4    24     2     8    26    15     5    19    30    21     9    16;
%     10    25    17     8    21    14    12    30    23    16     2    19    26    28    13     1     7     3    11    29    27    24     4    22     9    18     5     6    15    20;
%     26    13    19    30    17    29    22    15    20    27     6    12    28     4     2    18    23    16     8     1    21    10     7     9    14    24    25    11     3     5;
%     26    24     9     7    10    25    18    21    14    28    23     8     4     6     5     3    22    15    20    27    17    30     2    11    19     1    16    29    13    12;
%     13    10    21     3     9     4    18     5     1    17    27     2    28    26    25    16     6    19     7    30    15    11    12    23    20    14     8    22    24    29;
%     25     1     3     8    13    11    17    28     9    26     5    16    12    21    19    14    15    29    18    27    23     7    22    30    20     2    10    24     4     6;
%     22    25     2    23    29    11    20     7    24     9    18    13     3     1    15     6    12    21    14    19    17    30    26    16    28     5    27     4     8    10];
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 画甘特图
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% % 调度工序
% load('data/PBest.mat','P');
% % 调度工序时间
% load('data/PValBest','PVal');

% Gantt(P,PVal,Jm);

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 计算交货期矩阵
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% [PNumber,MNumber] = size(T);
% % 初始时刻，工件释放时间
% R = zeros(PNumber,1);
% 
% D = zeros(PNumber,1);
% for i = 1 : PNumber
%     d = calDeliveryDate(i,T,R);
%     D(i) = d;
% end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 计算MD距离
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
MD = calMD(T,Jm);


toc                               % Read elapsed time from stopwatch                              